<div class="recommendations-container">  <div class="recommendations-header">
    <h1>Personalized Recommendations</h1>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="loading-spinner"></div>
    <p>Loading your personalized recommendations...</p>
  </div>
  <!-- Error State -->
  <div *ngIf="hasError && !isLoading" class="error-container">
    <div class="error-icon">⚠️</div>
    <h3>Oops! Something went wrong</h3>
    <p>{{ errorMessage }}</p>
  </div>

  <!-- No Recommendations State -->
  <div *ngIf="!isLoading && !hasError && recommendations.length === 0" class="no-recommendations-container">
    <div class="no-recommendations-icon">📚</div>
    <h3>No Recommendations Yet</h3>
    <p>{{ noRecommendationsMessage }}</p>
    <p class="suggestion">Start completing some lessons to get personalized recommendations!</p>
  </div>

  <!-- Recommendations List -->
  <div *ngIf="!isLoading && !hasError && recommendations.length > 0" class="recommendations-grid">
    <div 
      *ngFor="let recommendation of recommendations; trackBy: trackByTitle" 
      class="recommendation-card"
      (click)="onRecommendationClick(recommendation)"
      [attr.title]="recommendation.message || recommendation.title">
      
      <!-- Thumbnail -->
      <div class="recommendation-thumbnail">
        <img 
          *ngIf="recommendation.thumbnail" 
          [src]="recommendation.thumbnail" 
          [alt]="recommendation.title"
          class="thumbnail-image"
          (error)="onImageError($event)">
        <div *ngIf="!recommendation.thumbnail" class="default-thumbnail">
          <span class="default-icon">🎯</span>
        </div>
      </div>

      <!-- Content -->
      <div class="recommendation-content">
        <h3 class="recommendation-title">{{ recommendation.title }}</h3>
        <p *ngIf="recommendation.message" class="recommendation-message">
          {{ recommendation.message }}
        </p>
        
        <!-- Status Indicators -->
        <div class="recommendation-status">
          <span 
            *ngIf="recommendation.success" 
            class="status-badge success"
            title="Recommended for you">
            ✓ Recommended
          </span>
          <span 
            *ngIf="recommendation.error" 
            class="status-badge error"
            [title]="recommendation.error">
            ⚠ {{ recommendation.error }}
          </span>
        </div>
      </div>

      <!-- Action Arrow -->
      <div class="recommendation-action">
        <span class="action-arrow">→</span>
      </div>
    </div>
  </div>
</div>
